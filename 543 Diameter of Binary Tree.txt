Intuition
Calculate height of left subtree and right subtree
Approach
Step 1 : We maintain a max variable to keep max length.

Step 2 : We calculate height of left subtree and right subtree recursively and return the maximum amoung them with plus 1.

Step 3 : Before returning we check whether the sum of heights of left and right subtree is greater than max

If yes we put sum of heights in max.
Step 4 : At last we return sum.

Why are we adding height of left subtree and right subtree

We get two end points of tree through heights.
This end point is nothing but diameter of tree.
Complexity
Time complexity:
O(n) to travel all nodes of tree.
Space complexity:
O(1) constant space
Code
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution 
{
    int max = 0;
    public int diameter(TreeNode T)
    {
        if(T==null)
        {
            return 0;
        }
        else
        {
            int lc = diameter(T.left);
            int rc = diameter(T.right);

            if((lc+rc+1) > max)
                max = lc+rc;


            if(lc > rc)
                return lc+1;
            else
                return rc+1;
        }
    }

    public int diameterOfBinaryTree(TreeNode root) 
    {
        int d1 = diameter(root);
       
        return max;
    }
}
